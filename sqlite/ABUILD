# ABUILD generated by mkpkg_generator.sh

pkgname=sqlite
_amalgamationver=3080401
pkgver=3.8.4.1
pkgbuild=1
arch=('auto')

shortdesc=("Sqlite (Small C library that implements a SQL database engine)")
longdesc=("SQLite is a small C library that implements a self-contained, embeddable, zero-configuration SQL database engine. The SQLite distribution comes with a standalone command-line access program (sqlite) that can be used to administer an SQLite database and which serves as an example of how to use the SQLite library.")

tags=('console dev-db')
build_deps="ncurses readline"

# What kind of drugs did they use to switch to such versioning system in 3.7.4? It's definitely out of my understanding abilities...
source=("http://sqlite.org/2014/sqlite-autoconf-${_amalgamationver}.tar.gz")

# Options: SECURE_DELETE is for xulrunner, others are from ArchLinux PKGBUILD
SLKCFLAGS="$SLKCFLAGS -DSQLITE_SECURE_DELETE -DSQLITE_ENABLE_FTS3=1 -DSQLITE_ENABLE_COLUMN_METADATA=1 -DSQLITE_ENABLE_UNLOCK_NOTIFY"

# fix for http://trac.agilialinux.ru/ticket/1100
export LTLINK_EXTRAS="-ldl"

BUILD_SYSTEM='autotools'
BUILD_KEYS="--prefix=/usr \
	--mandir=/usr/man \
	--libdir=/usr/lib${LIBDIRSUFFIX} \
	--program-prefix= \
	--program-suffix= \
	--disable-static \
	--enable-shared \
	--enable-threadsafe \
	--enable-readline \
	--enable-dynamic-extensions"
INSTALL_KEYS="DESTDIR=$pkgdir"

