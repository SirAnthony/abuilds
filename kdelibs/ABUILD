# ABUILD generated by mkpkg_generator.sh

pkgname=kdelibs
pkgver=4.12.4
pkgbuild=2
arch=('auto')

# Conflicts with gnome-menus, so it is ok to configure it.
config_files="etc/xdg/menus/applications.menu"

shortdesc=('kdelibs (KDE libraries)')
longdesc=('System libraries and other resources required by KDE')

tags=('kde-base kde4')
source=("ftp://ftp.kde.org/pub/kde/stable/${pkgver}/src/kdelibs-${pkgver}.tar.xz")

build_deps=("acl aspell attr bzip2 dbusmenu-qt e2fsprogs enchant ilmbase
            jasper krb5 libattica libICE libjpeg libpng giflib libX11
            libXcursor libXtst libxml2 libxslt openexr pcre phonon polkit-qt 
            qca qt4 soprano strigi udev xz cmake mesa")

if [ -d /usr/lib${LIBDIRSUFFIX}/qt ]; then
  QTDIR=/usr/lib${LIBDIRSUFFIX}/qt
fi

BUILD_SYSTEM='cmake'
BUILD_KEYS="-DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DMAN_INSTALL_DIR=/usr/man \
    -DSYSCONF_INSTALL_DIR=/etc \
    -DLIB_SUFFIX=${LIBDIRSUFFIX} \
    -DWITH_FAM=OFF \
    -DCMAKE_SKIP_RPATH=ON \
    -DKAUTH_BACKEND=PolkitQt-1 \
    -DKDE_DISTRIBUTION_TEXT=\"AgiliaLinux\""
INSTALL_KEYS="DESTDIR=$pkgdir"


