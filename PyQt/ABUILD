# ABUILD generated by mkpkg_generator.sh

pkgname=PyQt
pkgver=4.10.4
pkgbuild=1
arch=("auto")

shortdesc=("PyQt - Python Bindings for the Qt Toolkit")
tags=("dev-python libs")
build_deps="sip python-dbus mesa python-opengl qt4"

source=("http://downloads.sourceforge.net/project/pyqt/PyQt4/PyQt-${pkgver}/PyQt-x11-gpl-${pkgver}.tar.gz")
removedep="phonon"
build() {
	go_src_dir
	burn_patches
	set -e
	python configure.py \
		--confirm-license \
		-v /usr/share/sip \
		--qsci-api \
		--enable=QtCore \
		--enable=QtNetwork \
		--enable=QtXml \
		--enable=QtDesigner \
		--enable=QtGui \
		--enable=QtDBus \
		--enable=QtHelp \
		--enable=QtDeclarative \
		--enable=QtOpenGL \
		--enable=QtScript \
		--enable=QtSql \
		--enable=QtSvg \
		--enable=QtWebKit

	make -j${numjobs}

	# INSTALL_ROOT is needed for the QtDesigner module, the other Makefiles use DESTDIR  
	make DESTDIR="${pkgdir}" INSTALL_ROOT="${pkgdir}" install
	set +e
}
